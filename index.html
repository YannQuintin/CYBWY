<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Check Yourself Before You Wreck Yourself</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href="style.css" rel="stylesheet" type="text/css" />
  </head>

  <body>
    <script src="index.js"></script>
    <div class="container-fluid">
      <div class="row">
        <div id="start-screen">
          <div class="animated-logo1">
            <img src="./img/collectibles/small-balls.png" alt="balls-logo">
          </div>
            <h1 class="display-3 title mx-auto first-title">
                CHECK YOURSELF<br>BEFORE YOU<br>WRECK YOURSELF
            </h1>
            <div class="animated-logo2">
              <img src="./img/collectibles/small-boobs.png" alt="boobs-logo">
            </div>
            <div class="row game-explanation">
              <h3 class="text-center">Breast and Testicular cancer</h3>
              <p class="text-center">CYBYWY is a <span class="bold"> tutorial game</span> promoting self-checks for breast and testicular cancer. <span class="bold">Early detection</span>  dramatically increases the  <span class="bold">chance of survival</span>.
                <br>
                Breast cancer is the most common cancer for women over 40 years old.
                <br>
                Testicular cancer is the most common cancer for men aged between 15-35 years old.
                <br>
                Hop on the <span class="bold">self-check world</span> , press <span class="bold">space</span> to <span class="bold">jump</span> and score points by collecting boobs and balls. But be mindful!  <span class="bold"> You should only touch yourself in private places!</span></p>
            </div>
            <button class="btn btn-primary btn-lg btn-block" onClick="startGame()">
              Start the Game
            </button>
          </div>
      </div>
    </div>

    <div id="end-screen">
      <h1 id="end-screen-title" class="title mx-auto Game-over">
      </h1>

      <p id="end-screen-message" class="title mx-auto"></p>
      <button class="btn btn-primary btn-lg btn-block" onClick="replayGame()">
        Play again
      </button>
      <h2 id="breast" class="title mx-auto balls-Title">Breast Cancer - How to check yourself</h2>
      <h1 class="title mx-auto"><span class="step"> Step One - Look for</span></h1>
      <div class="row text-center">
        <div class="col-5 text-center breasts">
          <img class="breasts-1"  src="./img/1-change-size-shape-modified.png" alt="Check-yourself-breast-cancer">
          <h3>A change in size or shape of your breast.</h3>
        </div>
        <div class="col-5 text-center breasts">
          <img class="breasts-1"  src="./img/2-nipple-changes-modified.png" alt="Check-yourself-breast-cancer">
          <h3>A change to the nipple such as crusting, an ulcer, redness or an inversion.</h3>
        </div>
      </div>
        <div class="row text-center">
        <div class="col-5 text-center breasts">
          <img class="breasts-1"  src="./img/3-nipple-discharge-modified.png" alt="Check-yourself-breast-cancer">
          <h3>Nipple discharge that occurs without squeezing.</h3>
        </div>
        <div class="col-5 text-center breasts">
          <img class="breasts-1"  src="./img/4-skin-change-modified.png" alt="Check-yourself-breast-cancer">
          <h3>A change to the skin of your breast, such as redness or dimpling.</h3>
        </div>
        </div>
      
      <h1 class="title mx-auto"> <span class="step">Step Two - Feel for</span></h1>
      <div class="row text-center">
        <div class="col-5 text-center breasts">
          <img class="breasts-1"  src="./img/5-new-lump-modified.png" alt="Check-yourself-breast-cancer">
          <h3>A new Lump or lumpiness, especially if itâ€™s only in one breast.</h3>
        </div>
        <div class="col-5 text-center breasts">
          <img class="breasts-1"  src="./img/6-unuasual-pain-modified.png" alt="Check-yourself-breast-cancer">
          <h3>An unusual pain in your breast or armpit that doesnâ€™t go away.</h3>
        </div>
      </div>

      <h2 id="breast" class="title mx-auto balls-Title">Testicular Cancer - How to check yourself</h2>
      <div class="row text-center">
        <div class="col-5 text-center breasts">
          <img class="balls-1"  src="./img/step-one-testi-modified.png" alt="Check-yourself-breast-cancer">
          <h3>Step One - Find somewhere private</h3>
          <p class="balls-p">Then start feeling one testicule at
            a time using both hands. Best to do
            after a warm shower or bath!</p>
        </div>
        <div class="col-5 text-center breasts">
          <img class="balls-1"  src="./img/step-two-testi-modified.png" alt="Check-yourself-breast-cancer">
          <h3>Step Two - InspectðŸ”¬</h3>
          <p class="balls-p">Inspect by rolling the testicule
            between them & fingers.
            Use gentle pressureâ€¦!</p>
        </div>
        <div class="row text-center">
            <div class="col-5 text-center breasts">
              <img class="balls-1"  src="./img/step-three-testi-modified.png" alt="Check-yourself-breast-cancer">
              <h3>Step Three - Know thy Nut! ðŸ”®</h3>
              <p class="balls-p">Acquaint yourself with the spermatic cord
                & epidimydis. Tube structures that connect
                to the back side of each testicle.</p>
            </div>
            <div class="col-5 text-center breasts">
              <img class="step-4"  src="./img/step-four-testi-modified.png" alt="Check-yourself-breast-cancer">
              <h3>Step Four - Look for</h3>
              <p class="balls-p">Lumps, bumps, and changes in size.
                It is normal for on testicule to be
                larger than the other.</p>
            </div>
          </div>
        </div>   
        
        <div class="score-container container-fluid">
          <div>TOP 10: </div>
          <div id="score-container"></div>
          <div id="score-form">
            <label class="text-center" for="name">Enter your name:</label>
            <input id="name" type="text" placeholder="name">
            <button onClick="insertScore()">Push score</button>
          </div>
        </div>
        
        <footer class="container-fluid footer-">  
          <div>
            <p>Elia Chiarucci</p>
            <p>Yann Quintin</p>
            <p>Maya Ausset</p>
          </div>
        </footer>
        
    </div>
   


    <div>
    </div>


    <audio src="./sounds/CYBYWY-theme-song.mp3" id="theme-song">
      <audio src="./sounds/yoshi-dead.mp3" id="dead"></audio>
      <audio src="./sounds/jumpSound.mp3" id="jump"></audio>
      <p>Your browser does not support the audio element.</p>
    </audio>

  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
  
  <!-- TODO: Add SDKs for Firebase products that you want to use
      https://firebase.google.com/docs/web/setup#available-libraries -->
  <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>
  <script>
    // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyCkcx_wNXghr4UzsriP1eHvN-Gp9DyKD0w",
    authDomain: "cybywy-586b5.firebaseapp.com",
    databaseURL: "https://cybywy-586b5.firebaseio.com",
    projectId: "cybywy-586b5",
    storageBucket: "cybywy-586b5.appspot.com",
    messagingSenderId: "988196806937",
    appId: "1:988196806937:web:a95b19501312931ff1a588"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

    // Initialize Cloud Firestore through Firebase
  var db = firebase.firestore();

  function getScores() {
    let ol = document.createElement("ol");
    let data = db.collection("scores").get().then((querySnapshot) => {
      let scoreArray = [];
      querySnapshot.forEach((doc) => {
        let scoreObject = {
          score: doc.data().score,
          name: doc.data().name
        }
        scoreArray.push(scoreObject);
      });
      scoreArray.sort((a,b) => b.score - a.score);
      scoreArray.splice(10);
      scoreArray.forEach((scoreObjet) => {
        let li = document.createElement("li");
        li.innerHTML = "Score: " + scoreObjet.score + " - " + "Name: " + scoreObjet.name;
        ol.appendChild(li);
      })
      let scoreContainer = document.getElementById("score-container");
      if(scoreContainer.childNodes.length) {
        scoreContainer.innerHTML = "";
      };
        scoreContainer.appendChild(ol);
  })
}

  getScores();

  function insertScore() {
    let inputForm = document.getElementById('score-form');
    inputForm.style.display = "none";
    let name = document.getElementById('name').value;
    let score = myGameArea.score;
    db.collection("scores").add({
      name,
      score
    })
    .then(function(docRef) {
        console.log("Document written with ID: ", docRef.id);
        getScores();
    })
    .catch(function(error) {
        console.error("Error adding document: ", error);
    });
  }

  
  </script>

  </body>
</html>

